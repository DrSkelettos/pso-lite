---
layout: layout_print
active_belegung: active
dir: ../../../
title: Belegung - Ausdruck
---

<script src="{{ dir }}src/patients.js"></script>

<style>
    .print-header {
        margin-bottom: 1rem;
    }

    .print-header h4 {
        font-size: 18px !important;
    }

    .table-bordered>tbody>tr.border-bottom-3 {
        border-bottom-width: 3px !important;
    }

    .table-bordered td.border-end-3,
    .table-bordered th.border-end-3 {
        border-right: 7px solid #dee2e6 !important;
    }

    .table {
        width: 100%;
    }

    /* Override Bootstrap's default font sizes */
    .table th, 
    .table td,
    .table tr {
        font-size: inherit !important;
        padding: 2px 4px !important;
    }

    .table small {
        font-size: 70% !important;
    }
</style>

<div class="print-header d-flex justify-content-between align-items-center">
    <h4 class="mb-0">Belegungsplan Station 7.1</h4>
    <div class="text-end">
        <div>Stand: <span id="currentDate"></span> (KW <span id="currentWeek"></span>)</div>
    </div>
</div>

<table class="table table-sm table-bordered">
    <thead class="table-light">
        <tr class="text-center">
            <th width="30">Zi.</th>
            <th width="200" class="text-start">Patient:in</th>
            <th width="30">Gr.</th>
            <th width="50">Therap.</th>
            <th width="50">Vertr.</th>
            <th width="75">Aufnahme</th>
            <th width="30">Wo.</th>
            <th width="75">Entlassung</th>
            <th width="100" class="border-end-3">E-Modus</th>
            <th width="150">Geplant</th>
            <th width="30">Gr.</th>
            <th width="50">Therap.</th>
            <th>Bemerkung</th>
            <th width="75">Aufnahme</th>
        </tr>
    </thead>
    <tbody id="patients-table">
        <tr id="patient-row" class="text-center d-none">
            <td class="data-room"></td>
            <td class="data-name text-start"></td>
            <td class="data-group"></td>
            <td class="data-employee1"></td>
            <td class="data-misc"></td>
            <td class="data-admission"></td>
            <td class="data-week"></td>
            <td class="data-discharge"></td>
            <td class="data-discharge_mode border-end-3"></td>
            <td class="data-name-planned text-start"></td>
            <td class="data-group-planned"></td>
            <td class="data-employee1-planned"></td>
            <td class="data-misc-planned"></td>
            <td class="data-admission-planned"></td>
        </tr>
    </tbody>
    <tfoot>
        <tr>
            <td colspan="2">Aktuelle Belegung: <span id="currentPatientCount"></span></td>
            <td colspan="13" class="text-end">
                <i>
                    Medizinische Versorgung: Gr. 1 Em/Sa, Gr. 2 Sa/Rad, Gr. 3 Rad/Em
                </i>
            </td>
        </tr>
    </tfoot>
</table>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        const currentDate = document.getElementById('currentDate');
        const currentWeek = document.getElementById('currentWeek');
        const currentPatientCount = document.getElementById('currentPatientCount');

        // Format current date
        const today = new Date();
        const dateStr = today.toLocaleDateString('de-DE');
        currentDate.textContent = `${dateStr}`;
        currentWeek.textContent = getCalendarWeek(today);

        // Get current patients count
        currentPatientCount.textContent = Object.keys(filterPatients().current).length;

        fillPatientsTable();
    });
</script>